# Задание 1. Анализ, идентификация проблем и решений, планирование

## Проанализируйте схему и описание системы
- Сервис расчета стоимости изделий(MES) перегружен
- Нет репликаций БД для чтения и записей
- Все инстансы сервисов развернуты только в одном экземпляре
- Заказы на сервис MES поступают из 2х источников напрямую через API и магазин(RabbitMQ)
- Сервис MES включает в себя много функционала
- Не используется кеширование
- Нет сервиса мониторинга
- Не используется трейсинг
- Магазин и CRM используют одну базу


## Разработайте инициативы

1. Настройка мониторинга, технические характеристики(память, ЦПУ, скокрость ответа сервисов, кол-во сообщений, кэш мис), возможно добавил бизнесовые 
2. Мы уже переехали в клауд, что позволит нам легко создавать больше инстансов MES сервиса, что должно ускорить обработку заказов
3. После увеличения инстансов, мы получим нагрузку на базу, стоит добавить реплику(и) для чтения 
4. Разделил бы дашборд с заказами в MES. Выделил на отдельную страницу новые заказы и работу с текущими заказами. Для новых заказов попробовал добавить кэширование с паттерном Refresh-ahead, либо с Паттерн Write-Behind. На страницу с текущими заказами помимо пагинации и фильтров, добавил индексы на статусы. 
5. Хочется еще изменить архитектуру и поставить перед сервисом MES очередь куда будут поступать все заказы - из магазина и из API. В зависимости от кол-ва заказов мы будем динамически увеличивать или уменьшать кол-во МЕS сервисов 
6. Я бы еще выделил сервис расчета стоимости изделий в отдельный сервис, что позволит гибче управлять ресурсами и масштабировал самые критические места
7. Так же предлагаю разделить команду на 2, первая будет заниматься часть магазина и CRM, а вторая возьмет MES. Возможно стоит разбить первую команду на CRM и часть с магазином, но это уже нужно говорить с бизнесом. Для этого придется набрать людей
8. Добавил работу с очередью, приоритетность за доп цену. Пытался бы просить пользователей использовать меньше полигонов для быстрого получения заказа. 


## Расставьте инициативы в порядке приоритета

Я постарался в предыдущем пункте раставить задачи по приоритету. 
### Какой вы видите целевую архитектуру через полгода
По крайней мере стабильной, которая может масштабироваться под нагрузку. Возможно изменил бы очередь RabbitMQ на кафку.
### Если бы у вас была возможность выполнить только три пункта
Сначала попытался бы решить проблему с MES это первые 3 пункта
